<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <nav id="nav">
        <h1>GREEN</h1>
        <ul>
            <li class="active"><a href="#section1">menu1</a></li>
            <li><a href="#section2">menu2</a></li>
            <li><a href="#section3">menu3</a></li>
            <li><a href="#section4">menu4</a></li>
            <li><a href="#section5">menu5</a></li>
            <li><a href="#section6">menu6</a></li>
        </ul>
        <a href="#" class="navBtn">Open</a>
    </nav>

    <div id="contents">
        <div id="section1">
            <h2>1.가랑잎이 솔잎더러 <br>바스락거린다고 한다.</h2>
        </div>
        <div id="section2">
            <h2>2.간에 붙었다 쓸개에<br>붙었다 한다.</h2>
        </div>
        <div id="section3">
            <h2>3.개구리 올챙이 적 <br>생각을 못한다.</h2>
        </div>
        <div id="section4">
            <h2>4.구슬이 서 말이라도 <br>꿰어야 보배</h2>
        </div>
        <div id="section5">
            <h2>5.까마귀 날자 배 떨어진다.</h2>
        </div>
        <div id="section6">
            <h2>6.낮말은 새가 듣고 <br>밤말은 쥐가 듣는다.</h2>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script>
        var nav = $('#nav ul li');
        var cont = $('#contents>div');
        
    
        nav.click(function (e) {
            e.preventDefault();
            var target = $(this);
            var index = target.index();
            var section = cont.eq(index);
            var offset = section.offset().top
            console.log(target)
            console.log(index)
            //A.animate({실행문},시간)
            //A.animate({실행문},시간,이징)
            //이징 https://jqueryui.com/
            $('html, body').animate({
                scrollTop: offset
            }, 600, 'easeOutBounce');
        });
     
        
        $(window).scroll(function () {
            var wScroll = $(this).scrollTop();
            var hscol = document.body.scrollHeight;

            var scol = (Math.ceil((wScroll/hscol*5)));
            //  console.log(((wScroll/hscol*5)));
            //  console.log(wScroll);
            //  console.log(hscol);
            

            if(wScroll >=cont.eq(scol).offset().top){
                    nav.removeClass('active');
                    nav.eq(scol).addClass('active');
                }
        });
        //사이드메뉴
        //클릭할 때 마다 function일이 일어난다
        $('.navBtn').click(function(){
            // 클릭시마다 클래스 주고빼고 open앞에 클래스라는 명칭 있으니$주지않음
            $('nav').toggleClass('open');
            // .hasClass('open')==>open클래스가 있는지? t f
            // $('nav').animate({실행문},시간);
            if($('nav').hasClass('open')){
                $('nav').animate({left:'0px'},200);
                $('.navBtn').text("close");
            }
            else if($('nav').hasClass('open')==0){
                $('nav').animate({left:'-300px'},200);
                $('.navBtn').text("open");
            }
        })
    </script>
</body>

</html>